{"version":3,"sources":["components/Movie/Overview.module.css","components/Movie/Poster.module.css","components/Cart/CartMovie.module.css","components/Cart/CartButton.module.css","components/Header/Header.module.css","components/Cart/Modal.module.css","components/Cart/Cart.module.css","components/UI/Notification.module.css","components/Header/SearchButton.module.css","components/Movie/Movie.module.css","components/Login/Login.module.css","components/Main/Main.module.css","store/ui-slice.js","components/Cart/CartButton.js","store/movie-slice.js","components/Header/SearchButton.js","components/Header/Header.js","store/user-slice.js","components/Movie/Overview.js","components/Movie/Poster.js","components/Movie/Movie.js","components/Main/Main.js","store/api-actions.js","components/Cart/CartMovie.js","components/Cart/Modal.js","components/Cart/Cart.js","components/Login/Login.js","store/db-actions.js","components/UI/Notification.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["module","exports","uiSlice","createSlice","name","initialState","showCart","notification","reducers","toggleCart","state","console","log","showNotification","action","status","payload","title","description","uiActions","actions","CartButton","items","useSelector","user","cartMovies","dispatch","useDispatch","onClick","className","styles","button","badge","length","movieSlice","movies","movieQuery","initializeMovies","movieSearch","filter","movie","original_title","toUpperCase","includes","movieActions","SearchButton","onChange","event","target","value","input","type","placeholder","Header","isLoggedIn","login","header","userSlice","email","password","cartTotal","cartChanged","addMovieToCart","newMovie","push","price","userLogin","setCart","userActions","Overview","isSelected","id","overview","date","poster_path","cart","isInCart","find","selected","split","synopsis","disabled","preventDefault","rent","Poster","rating","poster","alt","img","src","icon","faStar","Movie","useState","setIsSelected","Main","search","main","map","index","release_date","vote_average","apiUrl","page","CartMovie","Backdrop","onCloseCart","backdrop","ModalContent","props","modal","content","children","modalRoot","document","getElementById","Modal","Fragment","ReactDOM","createPortal","Cart","total","cartTitle","sum","toFixed","Login","emailInput","useRef","passwordInput","form","onSubmit","current","emailIsValid","trim","htmlFor","ref","url","Notification","special","error","success","classes","isInitial","isInitial2","App","setPage","cartIsShown","ui","useEffect","pageNum","a","fetchData","fetch","response","ok","Error","json","data","movieData","results","Math","random","fetchMovies","sendData","method","body","JSON","stringify","sendToDb","userData","prev","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","movieReducer","uiReducer","userReducer","render"],"mappings":"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","file":"static/js/main.38ab3e5f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overview\":\"Overview_overview__3SBa9\",\"selected\":\"Overview_selected__1XTeH\",\"title\":\"Overview_title__2hQiy\",\"synopsis\":\"Overview_synopsis__2Q7Ld\",\"cast\":\"Overview_cast__1ou4L\",\"description\":\"Overview_description__2lwkV\",\"rent\":\"Overview_rent__2rPLp\",\"actions\":\"Overview_actions__BVv8J\",\"price\":\"Overview_price__rk93O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"poster\":\"Poster_poster__3THjt\",\"img\":\"Poster_img__2eQtB\",\"info\":\"Poster_info__1wCMF\",\"title\":\"Poster_title__3mB09\",\"icon\":\"Poster_icon__3-J81\",\"rating\":\"Poster_rating__17ztQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"CartMovie_movie__1ji29\",\"overview\":\"CartMovie_overview__8Vcxt\",\"img\":\"CartMovie_img__2KPXk\",\"price\":\"CartMovie_price__1PS18\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__2i1CL\",\"title\":\"CartButton_title__1gUZM\",\"badge\":\"CartButton_badge__3wOws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1pGuA\",\"title\":\"Header_title__37lhu\",\"login\":\"Header_login__KOBUZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1dHyn\",\"modal\":\"Modal_modal__1GVQK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartTitle\":\"Cart_cartTitle__hiIb-\",\"sum\":\"Cart_sum__1o3lz\",\"cart\":\"Cart_cart__hQEra\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__rO7lk\",\"success\":\"Notification_success__Pv3Uk\",\"error\":\"Notification_error__11K_3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"SearchButton_form-control__1VZ6-\",\"input\":\"SearchButton_input__24AVt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"Movie_movie__3SHv2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Login_title__EdiAX\",\"form\":\"Login_form__iEagJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3ElYh\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  showCart: false,\r\n  notification: null,\r\n};\r\n\r\nconst uiSlice = createSlice({\r\n  name: 'ui',\r\n  initialState,\r\n  reducers: {\r\n    toggleCart(state) {\r\n      console.log('toggling cart in dispatch');\r\n      if (state.showCart) {\r\n        state.showCart = false;\r\n        return;\r\n      }\r\n      state.showCart = true;\r\n      console.log(state.showCart);\r\n    },\r\n    showNotification(state, action) {\r\n      state.notification = {\r\n        status: action.payload.status,\r\n        title: action.payload.title,\r\n        description: action.payload.description,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const uiActions = uiSlice.actions;\r\n\r\nexport default uiSlice.reducer;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiActions } from '../../store/ui-slice';\r\n\r\nimport styles from './CartButton.module.css';\r\n\r\nconst CartButton = () => {\r\n\r\n  const items = useSelector(state => state.user.cartMovies);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toggleCartHandler = () => {\r\n    console.log('opening cart')\r\n    dispatch(uiActions.toggleCart());\r\n  }\r\n\r\n  return (\r\n    <button onClick={toggleCartHandler} className={styles.button}>\r\n      <span className={styles.title}>Cart</span>\r\n      <span className={styles.badge}>{items.length}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default CartButton;","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  movies: [],\r\n  movieQuery: [],\r\n};\r\n\r\nconst movieSlice = createSlice({\r\n  name: 'movies',\r\n  initialState,\r\n  reducers: {\r\n    initializeMovies(state, action) {\r\n      state.movies = action.payload;\r\n      console.log(state.movies);\r\n    },\r\n    movieSearch(state, action) {\r\n      if (action.payload === '') {\r\n        state.movieQuery = [];\r\n        return;\r\n      }\r\n      state.movieQuery = state.movies.filter((movie) =>\r\n        movie.original_title\r\n          .toUpperCase()\r\n          .includes(`${action.payload.toUpperCase()}`)\r\n      );\r\n      console.log(state.movieQuery);\r\n    },\r\n  },\r\n});\r\n\r\nexport const movieActions = movieSlice.actions;\r\n\r\nexport default movieSlice.reducer;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { movieActions } from '../../store/movie-slice';\r\n\r\nimport styles from './SearchButton.module.css';\r\n\r\nconst SearchButton = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  const onChangeHandler = (event) => {\r\n    //vpišeš \r\n    //filtriraš obstoječi array\r\n    //narediš nov array in replaceaš star array\r\n    //dispatch event.target.value\r\n    dispatch(movieActions.movieSearch(event.target.value));\r\n  };\r\n\r\n  return (\r\n    <form className={styles['form-control']}>\r\n      <input onChange={onChangeHandler} className={styles.input} type='text' placeholder='Search...'></input>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchButton;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiActions } from '../../store/ui-slice';\r\nimport CartButton from '../Cart/CartButton';\r\n\r\nimport styles from './Header.module.css';\r\nimport SearchButton from './SearchButton';\r\n\r\nconst Header = () => {\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const loginHandler = () => {\r\n    dispatch(uiActions.toggleCart());\r\n  };\r\n\r\n  const login = <button className={styles.login} onClick={loginHandler}>LOGIN TO RENT</button>\r\n\r\n  return (\r\n    <div className={styles.header}>\r\n      <h1 className={styles.title}>RENTFLIX</h1>\r\n      <SearchButton/>\r\n      {isLoggedIn ? <CartButton/> : login}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  email: '',\r\n  password: '',\r\n  isLoggedIn: false,\r\n  cartMovies: [],\r\n  cartTotal: 0,\r\n  cartChanged: false\r\n}\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    addMovieToCart (state, action) {\r\n      const newMovie = action.payload;\r\n      state.cartChanged = true;\r\n      state.cartMovies.push(newMovie);\r\n      state.cartTotal += action.payload.price;\r\n    },\r\n    userLogin (state, action) {\r\n      state.email = action.payload.email;\r\n      state.password = action.payload.password;\r\n      state.isLoggedIn = true;\r\n      console.log(state.email);\r\n      console.log(state.password);\r\n      //if login is true v App potem fetchamoCart\r\n      //če nismo loggedIn potem je rent disabled\r\n    },\r\n    setCart (state, action) {\r\n      if (state.email === action.payload.email) {\r\n        state.cartMovies = action.payload.cartMovies;\r\n        state.cartTotal = action.payload.cartTotal;\r\n      }\r\n      //else ne naredimo nič\r\n    }\r\n  }\r\n})\r\n\r\nexport const userActions = userSlice.actions;\r\n\r\nexport default userSlice.reducer;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userActions } from '../../store/user-slice';\r\n\r\nimport styles from './Overview.module.css';\r\n\r\nconst Overview = ({\r\n  isSelected,\r\n  title,\r\n  id,\r\n  overview,\r\n  date,\r\n  poster_path,\r\n  price,\r\n}) => {\r\n  const cart = useSelector((state) => state.user.cartMovies);\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onRentHandler = (event) => {\r\n    event.preventDefault();\r\n    dispatch(userActions.addMovieToCart({ id, title, date, poster_path, price }));\r\n  };\r\n\r\n  const isInCart = cart.find((movie) => movie.id === id);\r\n\r\n  return (\r\n    <div className={`${styles.overview} ${isSelected ? styles.selected : ''}`}>\r\n      <h3 className={styles.title}>\r\n        {title} ({date ? date.split('-')[0] : 'Unknown'})\r\n      </h3>\r\n      <h4 className={styles.synopsis}>Synopsis</h4>\r\n      <p className={styles.description}>{overview}</p>\r\n      <div className={styles.actions}>\r\n        {isLoggedIn && <button\r\n          disabled={isInCart}\r\n          onClick={onRentHandler}\r\n          className={styles.rent}\r\n        >\r\n          {isInCart ? 'IN CART' : 'RENT'}\r\n        </button>}\r\n        <span className={styles.price}>${price}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Overview;\r\n","import React from 'react';\r\n\r\nimport styles from './Poster.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst placeholderImg = 'https://image.tmdb.org/t/p/w500/';\r\n\r\nconst Poster = ({ title, rating, poster_path }) => {\r\n  return (\r\n    <div className={styles.poster}>\r\n      <img\r\n        alt={title}\r\n        className={styles.img}\r\n        src={placeholderImg + poster_path}\r\n      ></img>\r\n      <span className={styles.rating}>\r\n        <FontAwesomeIcon className={styles.icon} icon={faStar} />\r\n        {rating}\r\n      </span>\r\n      <h3 className={styles.title}>{title}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Poster;\r\n","import React, { useState } from 'react';\r\n\r\nimport styles from './Movie.module.css';\r\nimport Overview from './Overview';\r\nimport Poster from './Poster';\r\n\r\nconst Movie = ({ id, title, overview, poster_path, date, rating, price }) => {\r\n  const [isSelected, setIsSelected] = useState(false);\r\n\r\n  const selectHandler = () => {\r\n    if (isSelected) {\r\n      setIsSelected(false);\r\n      return;\r\n    }\r\n    setIsSelected(true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={selectHandler}\r\n      className={`${styles.movie} ${isSelected ? styles.selected : ''}`}\r\n    >\r\n      <Poster title={title} rating={rating} poster_path={poster_path} />\r\n      <Overview\r\n        poster_path={poster_path}\r\n        title={title}\r\n        id={id}\r\n        overview={overview}\r\n        date={date}\r\n        price={price}\r\n        isSelected={isSelected}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Movie from '../Movie/Movie';\r\n\r\nimport styles from './Main.module.css';\r\n\r\nconst Main = () => {\r\n  const movies = useSelector((state) => state.movies.movies);\r\n  const movieQuery = useSelector((state) => state.movies.movieQuery);\r\n\r\n  console.log('Movies in main');\r\n  console.log(movies);\r\n\r\n  const search = movieQuery.length === 0 ? movies : movieQuery;\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      {search.map((movie, index) => (\r\n        <Movie\r\n          key={movie.id}\r\n          id={movie.id}\r\n          title={movie.original_title}\r\n          overview={movie.overview}\r\n          poster_path={movie.poster_path}\r\n          date={movie.release_date}\r\n          rating={movie.vote_average}\r\n          price={movie.price}\r\n        />\r\n      ))}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import { movieActions } from './movie-slice';\r\nimport { uiActions } from './ui-slice';\r\n\r\nconst apiKey = 'ea82bb5732a9027da04300b3e982fd88';\r\nconst apiUrl = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate`;\r\nconst page = '&page=';\r\nexport const fetchMovies = (pageNum = '') => {\r\n  return async (dispatch) => {\r\n    console.log('Dispatching DATA');\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status: '',\r\n        title: 'WORKING',\r\n        description: 'Fetching movies from database!',\r\n      })\r\n    );\r\n    const fetchData = async () => {\r\n      const response = await fetch(apiUrl + page + pageNum);\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Response failed');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      return data;\r\n    };\r\n\r\n    try {\r\n      const movieData = await fetchData();\r\n      for (const movie of movieData.results) {\r\n        movie.price = +(Math.random() * (4.99 - 0.99 + 1) + 0.99).toFixed(2);\r\n      }\r\n      dispatch(movieActions.initializeMovies(movieData.results));\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: 'success',\r\n          title: 'SUCCESS',\r\n          description: 'Movies fetched successfully',\r\n        })\r\n      );\r\n    } catch (error) {\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: 'error',\r\n          title: 'ERROR',\r\n          description: 'Fetching movies failed',\r\n        })\r\n      );\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n","import React from 'react';\r\n\r\nimport styles from './CartMovie.module.css';\r\n\r\nconst placeholderImg = 'https://image.tmdb.org/t/p/w500/';\r\n\r\nconst CartMovie = ({id, title, date, poster_path, price}) => {\r\n  return (\r\n    <div className={styles.movie}>\r\n      <img alt={title} className={styles.img} src={placeholderImg + poster_path}></img>\r\n      <div className={styles.overview}>\r\n        <h2 className={styles.title}>{title} ({date.split('-')[0]})</h2>\r\n        <h3 className={styles.price}>${price}</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartMovie;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { uiActions } from '../../store/ui-slice';\r\nimport styles from './Modal.module.css';\r\n\r\nconst Backdrop = ({onCloseCart}) => {\r\n  return <div onClick={onCloseCart} className={styles.backdrop}></div>;\r\n};\r\n\r\nconst ModalContent = (props) => {\r\n  return (\r\n    <div className={styles.modal}>\r\n      <div className={styles.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nconst Modal = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const closeCartHandler = () => {\r\n    console.log('closing cart - backdrop')\r\n    dispatch(uiActions.toggleCart());\r\n  };\r\n  \r\n  return (\r\n    <React.Fragment>\r\n      {ReactDOM.createPortal(<Backdrop onCloseCart={closeCartHandler}/>, modalRoot)}\r\n      {ReactDOM.createPortal(\r\n        <ModalContent>{props.children}</ModalContent>,\r\n        modalRoot\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CartMovie from './CartMovie';\r\nimport Modal from './Modal';\r\n\r\nimport styles from './Cart.module.css';\r\n\r\nconst Cart = () => {\r\n  const cart = useSelector((state) => state.user.cartMovies);\r\n  const total = useSelector((state) => state.user.cartTotal);\r\n\r\n  return (\r\n    <Modal>\r\n      <div className={styles.cart}>\r\n        <h2 className={styles.cartTitle}>CART</h2>\r\n        {cart.map((movie, index) => (\r\n          <CartMovie\r\n            key={movie.id}\r\n            id={movie.id}\r\n            title={movie.title}\r\n            date={movie.date}\r\n            poster_path={movie.poster_path}\r\n            price={movie.price}\r\n          />\r\n        ))}\r\n        <div className={styles.sum}>\r\n          <h3>Total:</h3>\r\n          <h2>${total.toFixed(2)}</h2>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { uiActions } from '../../store/ui-slice';\r\nimport { userActions } from '../../store/user-slice';\r\nimport Modal from '../Cart/Modal';\r\n\r\nimport styles from './Login.module.css';\r\n\r\nconst Login = () => {\r\n  const emailInput = useRef();\r\n  const passwordInput = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitFormHandler = (event) => {\r\n    event.preventDefault();\r\n    const email = emailInput.current.value;\r\n    const password = passwordInput.current.value;\r\n\r\n    const emailIsValid = email.includes('@');\r\n\r\n    if (email.trim().length === 0 || !emailIsValid) {\r\n      console.log('invalid email');\r\n      return;\r\n    }\r\n    if (password.trim().length < 5) {\r\n      console.log('Invalid password');\r\n      return;\r\n    }\r\n\r\n    dispatch(\r\n      userActions.userLogin({\r\n        email: email.trim(),\r\n        password: password.trim(),\r\n      })\r\n    );\r\n\r\n    dispatch(uiActions.toggleCart());\r\n    console.log(email);\r\n    console.log(password);\r\n  };\r\n\r\n  return (\r\n    <Modal>\r\n      <h2 className={styles.title}>LOGIN</h2>\r\n      <form className={styles.form} onSubmit={submitFormHandler}>\r\n        <label htmlFor=\"email\">EMAIL</label>\r\n        <input ref={emailInput} id=\"email\" placeholder=\"Enter email...\"></input>\r\n        <label htmlFor=\"password\">PASSWORD</label>\r\n        <input\r\n          ref={passwordInput}\r\n          id=\"password\"\r\n          placeholder=\"Enter password...\"\r\n        ></input>\r\n        <button>Login</button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { uiActions } from \"./ui-slice\";\r\nimport { userActions } from \"./user-slice\";\r\n\r\nconst url =\r\n  'https://react-movie-db-6eecd-default-rtdb.europe-west1.firebasedatabase.app/user.json';\r\n\r\nexport const sendToDb = (user) => {\r\n  return async (dispatch) => {\r\n    console.log('Sending data to DB');\r\n    const sendData = async () => {\r\n      const response = await fetch(url, {\r\n        method: 'PUT',\r\n        body: JSON.stringify({\r\n          email: user.email,\r\n          password: user.password,\r\n          cartMovies: user.cartMovies,\r\n          cartTotal: user.cartTotal,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Putting data failed!');\r\n      }\r\n    };\r\n\r\n    try {\r\n      await sendData();\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: 'success',\r\n          title: 'SUCCESS',\r\n          description: 'User data sent successfuly',\r\n        })\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: 'error',\r\n          title: 'ERROR',\r\n          description: 'User data sending failed',\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchFromDB = () => {\r\n  return async (dispatch) => {\r\n\r\n    const fetchData = async () => {\r\n      const response = await fetch(url);\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Fetching data failed');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      return data;\r\n    };\r\n\r\n    try {\r\n      const userData = await fetchData();\r\n      console.log(userData);\r\n      dispatch(userActions.setCart(userData));\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: 'success',\r\n          title: 'SUCCESS',\r\n          description: 'User data fetched successfully',\r\n        })\r\n      );\r\n    } catch(err) {\r\n      console.log(err);\r\n      dispatch(\r\n        uiActions.showNotification({\r\n          status: 'error',\r\n          title: 'ERROR',\r\n          description: 'Fetching user data failed',\r\n        })\r\n      );\r\n    }\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\nimport styles from './Notification.module.css';\r\n\r\nconst Notification = ({ status, title, description }) => {\r\n  let special = '';\r\n\r\n  if (status === 'error') {\r\n    special = styles.error;\r\n  }\r\n\r\n  if (status === 'success') {\r\n    special = styles.success;\r\n  }\r\n\r\n  const classes = `${styles.notification} ${special}`;\r\n\r\n  return (\r\n    <section className={classes}>\r\n      <h3>{title}</h3>\r\n      <p>{description}</p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import './App.css';\r\nimport Header from './components/Header/Header';\r\nimport Main from './components/Main/Main';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchMovies } from './store/api-actions';\r\nimport Cart from './components/Cart/Cart';\r\nimport Login from './components/Login/Login';\r\nimport { fetchFromDB, sendToDb } from './store/db-actions';\r\nimport Notification from './components/UI/Notification';\r\n\r\nlet isInitial = true;\r\nlet isInitial2 = true;\r\n\r\nfunction App() {\r\n  const [page, setPage] = useState(1);\r\n\r\n  const cartIsShown = useSelector((state) => state.ui.showCart);\r\n  const isLoggedIn = useSelector((state) => state.user.isLoggedIn);\r\n  const user = useSelector((state) => state.user);\r\n  const notification = useSelector((state) => state.ui.notification);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    console.log('Fetching movies!');\r\n    dispatch(fetchMovies(page));\r\n  }, [dispatch, page]);\r\n\r\n  useEffect(() => {\r\n    if (isInitial) {\r\n      isInitial = false;\r\n      return;\r\n    }\r\n\r\n    if (user.cartChanged) {\r\n      console.log('Dispatching data to DB');\r\n      dispatch(\r\n        sendToDb({\r\n          email: user.email,\r\n          password: user.password,\r\n          cartMovies: user.cartMovies,\r\n          cartTotal: user.cartTotal,\r\n        })\r\n      );\r\n    }\r\n  }, [user, dispatch]);\r\n\r\n  //če je loggedIn in je email isti kot v db\r\n  //potem dobi od db data drugače naredi novega\r\n  //če je isLoggedIn false potem prikaži login drugače cart\r\n\r\n  useEffect(() => {\r\n    if (isInitial2) {\r\n      isInitial2 = false;\r\n      return;\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n      dispatch(fetchFromDB());\r\n    }\r\n  }, [dispatch, isLoggedIn]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {notification && (\r\n        <Notification\r\n          status={notification.status}\r\n          title={notification.title}\r\n          description={notification.description}\r\n        />\r\n      )}\r\n      {cartIsShown ? isLoggedIn ? <Cart /> : <Login /> : ''}\r\n      <Header />\r\n      <Main />\r\n      <div>\r\n        <button\r\n          onClick={() => {\r\n            console.log(page);\r\n            if (page === 1) {\r\n              return;\r\n            }\r\n            setPage((prev) => prev - 1);\r\n          }}\r\n        >\r\n          Prev page\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            console.log(page);\r\n            setPage((prev) => prev + 1);\r\n          }}\r\n        >\r\n          Next page\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport movieReducer from './movie-slice';\r\nimport uiReducer from './ui-slice';\r\nimport userReducer from './user-slice';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    movies: movieReducer,\r\n    ui: uiReducer,\r\n    user: userReducer,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}